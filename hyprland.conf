monitor=HDMI-A-1,2560x1080@74.99,0x0,1

$terminal = kitty
$fileManager = dolphin
$menu = wofi --show drun




exec-once = $terminal
exec-once = nm-applet &
exec-once = hyprctl setcursor Bibata-Modern-Classic 24p
# Буфер обмена — текст


env = XCURSOR_SIZE,15
env = HYPRCURSOR_SIZE,15

general {
gaps_in = 4
gaps_out = 5
gaps_workspaces = 50

border_size = 2
    col.active_border = rgba(F7DCDE39)
    col.inactive_border = rgba(A58A8D30)
resize_on_border = true
allow_tearing = true
layout = dwindle
}


decoration {
rounding = 18
rounding_power = 3
active_opacity = 0.8
inactive_opacity = 0.6
dim_inactive = true
dim_strength = 0.3

shadow {
enabled = true
range = 30
render_power = 2
color = rgba(87002100)
}

blur {
enabled = true
size = 10
passes = 6
new_optimizations = true
ignore_opacity = true
noise = 0.02
contrast = 1.05
brightness = 2.1
vibrancy = 1.35
vibrancy_darkness = 0.2
xray = false
popups = true
popups_ignorealpha = 0.15
input_methods = true
input_methods_ignorealpha = 0.15
}
}

animations {
enabled = yes, please :)
bezier = smooth, 0.45, 0, 0.55, 1
bezier = quick, 0.2, 0.0, 0.0, 1
bezier = snappy, 0.15, 1.1, 0.3, 1

animation = global, 1, 1.0, smooth
animation = border, 1, 1.5, smooth
animation = windows, 1, 2.5, smooth
animation = windowsIn, 1, 1.8, smooth, popin 50%
animation = windowsOut, 1, 1.9, smooth, popin 30%
animation = fadeIn, 1, 1.2, quick
animation = fadeOut, 1, 0.6, quick
animation = fade, 1, 1.0, quick
animation = layers, 1, 1.5, smooth
animation = layersIn, 1, 1.0, smooth, fade
animation = layersOut, 1, 0.7, smooth, fade
animation = fadeLayersIn, 1, 0.7, quick
animation = fadeLayersOut, 1, 0.6, quick
animation = workspaces, 1, 1.1, snappy, fade
animation = workspacesIn, 1, 2.7, smooth, fade
animation = workspacesOut, 1, 5.2, smooth, fade
animation = zoomFactor, 1, 1.5, snappy
}

dwindle {
pseudotile = true
preserve_split = true
smart_split = false
smart_resizing = false
}

master {
new_status = master
}

misc {
    background_color = rgba(1D1011FF)
disable_hyprland_logo = true
vfr = 1
vrr = 1
mouse_move_enables_dpms = true
animate_manual_resizes = false
enable_swallow = false
swallow_regex = (foot|kitty|allacritty|Alacritty)
force_default_wallpaper = -1

}

input {
kb_layout = us, ru
kb_variant =
kb_model =
kb_options =grp:alt_shift_toggle
kb_rules =
follow_mouse = 1
sensitivity = 0

}

$mainMod = SUPER

bind = $mainMod, Q, exec, $terminal
bind = $mainMod, C, killactive,
bind = $mainMod, M, exit,
bind = $mainMod, E, exec, $fileManager
bind = $mainMod, V, togglefloating,
bind = $mainMod, R, exec, $menu
bind = $mainMod, P, pseudo,
bind = $mainMod, J, togglesplit,
bind = $mainMod, B, exec, cliphist list | fuzzel --match-mode fzf --dmenu | cliphist decode | wl-copy
#ind = $mainMod, Shift, S, exec, bash -c 'mkdir -p ~/Pictures/Screenshots && grim -g "$(slurp)" ~/Pictures/Screenshots/Screenshot_$(date +%F_%H-%M-%S).png && wl-copy < ~/Pictures/Screenshots/Screenshot_$(date +%F_%H-%M-%S).png && notify-send "Screenshot saved" "Файл сохранён в ~/Pictures/Screenshots"'
#bind = $mainMod+Shift, I, exec, bash -c 'SLURP_ARGS="" grim -g "$(slurp $SLURP_ARGS)" - | wl-copy && notify-send "Screenshot" "Скриншот скопирован в буфер"'
bind = $mainMod+Shift, I, exec, bash -c 'mkdir -p ~/Pictures/Screenshots && FILENAME=~/Pictures/Screenshots/Screenshot_$(date +%F_%H-%M-%S).png && grim -g "$(slurp)" "$FILENAME" && wl-copy < "$FILENAME" && notify-send "Screenshot saved" "Файл сохранён в ~/Pictures/Screenshots"'
bind = $mainMod, F, exec, firefox
bind = $mainMod, Z, exec, pavucontrol


bind = $mainMod, left, movefocus, l
bind = $mainMod, right, movefocus, r
bind = $mainMod, up, movefocus, u
bind = $mainMod, down, movefocus, d

bind = $mainMod, 1, workspace, 1
bind = $mainMod, 2, workspace, 2
bind = $mainMod, 3, workspace, 3
bind = $mainMod, 4, workspace, 4
bind = $mainMod, 5, workspace, 5
bind = $mainMod, 6, workspace, 6
bind = $mainMod, 7, workspace, 7
bind = $mainMod, 8, workspace, 8
bind = $mainMod, 9, workspace, 9
bind = $mainMod, 0, workspace, 10

bind = $mainMod SHIFT, 1, movetoworkspace, 1
bind = $mainMod SHIFT, 2, movetoworkspace, 2
bind = $mainMod SHIFT, 3, movetoworkspace, 3
bind = $mainMod SHIFT, 4, movetoworkspace, 4
bind = $mainMod SHIFT, 5, movetoworkspace, 5
bind = $mainMod SHIFT, 6, movetoworkspace, 6
bind = $mainMod SHIFT, 7, movetoworkspace, 7
bind = $mainMod SHIFT, 8, movetoworkspace, 8
bind = $mainMod SHIFT, 9, movetoworkspace, 9
bind = $mainMod SHIFT, 0, movetoworkspace, 10

bind = $mainMod, S, togglespecialworkspace, magic
bind = $mainMod SHIFT, S, movetoworkspace, special:magic

bind = $mainMod, mouse_down, workspace, e+1
bind = $mainMod, mouse_up, workspace, e-1
bindm = $mainMod, mouse:272, movewindow
bindm = $mainMod, mouse:273, resizewindow

bindel = ,XF86AudioRaiseVolume, exec, wpctl set-volume -l 1 @DEFAULT_AUDIO_SINK@ 5%+
bindel = ,XF86AudioLowerVolume, exec, wpctl set-volume @DEFAULT_AUDIO_SINK@ 5%-
bindel = ,XF86AudioMute, exec, wpctl set-mute @DEFAULT_AUDIO_SINK@ toggle
bindel = ,XF86AudioMicMute, exec, wpctl set-mute @DEFAULT_AUDIO_SOURCE@ toggle
bindel = ,XF86MonBrightnessUp, exec, brightnessctl -e4 -n2 set 5%+
bindel = ,XF86MonBrightnessDown, exec, brightnessctl -e4 -n2 set 5%-
bindl = , XF86AudioNext, exec, playerctl next
bindl = , XF86AudioPause, exec, playerctl play-pause
bindl = , XF86AudioPlay, exec, playerctl play-pause
bindl = , XF86AudioPrev, exec, playerctl previous

windowrule = suppressevent maximize, class:.*
windowrule = nofocus,class:^$,title:^$,xwayland:1,floating:1,fullscreen:0,pinned:0
#windowrulev2 = center, title:^(Open File)(.*)$
#windowrulev2 = size 45%, class:^(pavucontrol)$
#layerrule = animation slide left, sideleft.*

# Firefox всегда в плавающем режиме, по центру, с прозрачностью
windowrulev2 = float, class:^(firefox)$
windowrulev2 = size 1024 1024, class:^(firefox)$
windowrulev2 = center, class:^(firefox)$
# Pavucontrol всегда поверх всех окон
windowrulev2 = float, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = size 1500 1000, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = center, class:^(org.pulseaudio.pavucontrol)$
windowrulev2 = pin, class:^(org.pulseaudio.pavucontrol)$



# ######### Input method ##########
# See https://fcitx-im.org/wiki/Using_Fcitx_5_on_Waylandавыаы

# ############ Wayland #############
env = ELECTRON_OZONE_PLATFORM_HINT, auto

# ############ Themes ###########
env = QT_QPA_PLATFORM, wayland
env = QT_QPA_PLATFORMTHEME, kde
env = XDG_MENU_PREFIX, plasma-

# ######## Wayland #########
# Tearing
env = WLR_DRM_NO_ATOMIC, 1
env = WLR_NO_HARDWARE_CURSORS, 1

# ######## Terminal application #########
env = TERMINAL, kitty -1
